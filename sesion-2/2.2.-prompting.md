# 2.2. Prompting

## 2.2. Ingeniería de prompts: programación en lenguaje natural

La calidad de tu salida depende el 100% de la calidad de tu entrada. En modelos como Llama 3.2 (8B), la precisión del prompt es la diferencia entre una herramienta útil y un juguete.

#### 2.2.1. La anatomía de un prompt de producción

Un prompt empresarial no es una oración; es un bloque de código estructurado. Debe contener estos 6 componentes para garantizar consistencia.

<table><thead><tr><th width="202.9765625">Componente</th><th width="214.9609375">Función técnica</th><th>Ejemplo</th></tr></thead><tbody><tr><td><strong>1. Rol</strong> <br>(persona)</td><td>Define el sub-espacio latente del modelo.</td><td>"Actúa como un auditor fiscal experto en el ISR."</td></tr><tr><td><strong>2. Contexto</strong></td><td>Reduce la alucinación acotando la realidad.</td><td>"Analizamos gastos de viáticos para una PyME de servicios."</td></tr><tr><td><strong>3. Tarea</strong> <br>(instrucción)</td><td>El verbo de acción principal.</td><td>"Extrae: Fecha, RFC del emisor y monto total."</td></tr><tr><td><strong>4. Datos</strong> <br>(<em>inputs</em>)</td><td>La información cruda a procesar.</td><td>"[Texto pegado del PDF o XML]"</td></tr><tr><td><strong>5. Restricciones</strong></td><td>Reglas negativas (<em>negative constraints</em>).</td><td>"No incluyas propinas. Si no hay fecha, devuelve NULL."</td></tr><tr><td><strong>6. Formato</strong> <br><em>(outputs)</em></td><td>La estructura de datos para integración.</td><td>"Responde solo en formato JSON válido."</td></tr></tbody></table>

***

#### Laboratorio de prompts: de mediocre a excelente

Observa la diferencia en la respuesta del modelo según la estructura.

{% tabs %}
{% tab title="❌ Prompt débil" %}
**Input:**

> "Revisa esta factura y dime qué onda, si se puede deducir."

**Resultado probable (Llama 3.2):**

> "Hola. Para saber si es deducible necesito más información. Generalmente las facturas deben cumplir con el SAT. Esta parece ser de un restaurante..."

**Diagnóstico:** Vago, conversacional, sin formato útil.
{% endtab %}

{% tab title="✅ Prompt estructurado (modelo Prismatik)" %}
**Input:**

> **Rol:** Contador Senior. **Tarea:** Analiza el concepto del gasto y determina su deducibilidad al 100%. **Contexto:** Empresa de Marketing Digital. **Input:** "Consumo de alimentos en Restaurante Los Arcos, Domingo 8pm, $4,500 pesos." **Restricciones:** Sé estricto. Cita la ley si es necesario. **Formato:** Tabla Markdown (Concepto | Deducible | Razón).

**Resultado Probable (Llama 3.2):**

| Concepto            | Deducible | Razón                                                                                                  |
| ------------------- | --------- | ------------------------------------------------------------------------------------------------------ |
| Alimentos (Domingo) | **NO**    | Gasto en fin de semana sin justificación de viaje de negocios (Art 28 LISR). Monto excede tope diario. |

**Diagnóstico:** Accionable, estructurado, integrado a procesos.
{% endtab %}
{% endtabs %}

{% hint style="success" %}
**TÉCNICA AVANZADA: Chain of Thought (CoT)** \
Para tareas complejas, pide a la IA que "piense paso a paso". \
&#xNAN;_&#x45;jemplo:_ "Antes de responder, analiza paso a paso si el RFC es válido, luego verifica la fecha, y finalmente emite el veredicto."
{% endhint %}
